import sys
import os

# Настройка путей для импорта модулей из пакетов проекта
sys.path.append(os.path.dirname(os.path.abspath(__file__)))

# Импорт тестов с защитой от ошибок структуры
try:
    from tests.test_part1 import TestPart1
    from tests.test_part2 import TestPart2
    from tests.test_part3 import TestPart3
except ImportError as e:
    print("КРИТИЧЕСКАЯ ОШИБКА ИМПОРТА!")
    print("Убедитесь, что файлы __init__.py существуют во всех папках.")
    print(f"Детали: {e}")
    sys.exit(1)

if __name__ == "__main__":
    print("==========================================")
    print("   СИСТЕМА УЧЕТА СОТРУДНИКОВ: TEST RUNNER")
    print("==========================================\n")

    # --- ЧАСТЬ 1: Инкапсуляция ---
    # Проверка базового класса, геттеров/сеттеров и валидации
    TestPart1.run()

    # --- ЧАСТЬ 2: Наследование и Фабрика ---
    # Проверка иерархии классов, создания через фабрику и базового полиморфизма
    TestPart2.run()

    # --- ЧАСТЬ 3: Полиморфизм и Магия ---
    # Проверка Department, магических методов, сериализации и сортировки
    TestPart3.run()
    
    print("==========================================")
    print("   Все тестовые сценарии успешно выполнены.")
    print("==========================================")
